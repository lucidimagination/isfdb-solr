<?xml version="1.0" encoding="UTF-8" ?>
<schema name="isfdb" version="1.2">
  <!--
    This is an *extremely* trivial example Solr schema file

    For a better example, and an exmplanation of some of the
    options in this file...
    
http://svn.apache.org/repos/asf/lucene/dev/trunk/solr/example/solr/conf/schema.xml

    -->

  <!-- index anything and everything as a simple string -->
  <types>
    <fieldType name="float" class="solr.TrieFloatField"/>
    <fieldType name="int" class="solr.TrieIntField"/>
    <fieldType name="string" class="solr.StrField"/>
    <fieldType name="url" class="solr.StrField" indexed="false" stored="true" />

    <fieldType name="ignored" class="solr.StrField" 
               indexed="false" stored="false" />
               
  </types>
    
  <fields>
    <field name="ca_id" type="string" />
    
    <!-- broad class of title, good for faceting -->
    <field name="title_ttype" type="string" />

    <!-- no idea what this is, every doc has same value -->
    <field name="title_ctl" type="ignored" />

    <!-- some sort of coded values, might be useful for faceting -->
    <field name="ca_status" type="string" />
    <field name="author_marque" type="string" />

    <!-- numeric values that might come in hand for relevancy biasing
         (they seem to relate to populatiry)
      -->
    <field name="author_annualviews" type="int" />
    <field name="author_views" type="int" />
    <field name="title_views" type="int" />
    <field name="title_annualviews" type="int" />
    <field name="title_rating" type="float" />

    <!-- ids and foreign keys ... keep an eye on these for later -->
    <field name="author_id" type="ignored" />
    <field name="title_id" type="ignored" />
    <field name="series_id" type="ignored" />
    <field name="title_parent" type="ignored" />
    <field name="title_synopsis" type="ignored" />

    <!-- external URLs -->
    <field name="author_image" type="url" />
    <field name="author_imdb" type="url" />
    <field name="author_wikipedia" type="url" />
    <field name="title_wikipedia" type="url" />

    <field name="catchall" 
           type="string" 
           stored="false" 
           multiValued="true" />
    
    <dynamicField name="*" 
                  type="string" 
                  indexed="true" 
                  stored="true"
                  multiValued="true" />
  </fields>

  <!-- copy everything into one big field for easy searching -->
  <copyField source="*" dest="catchall"/>

  <!-- A unique Key field isn't neccessary, but it's the only way Solr -->
  <!-- can automaticly replace docs when they change -->
  <!-- DataImportHandler is also very unhappy if you don't have one -->
  <uniqueKey>ca_id</uniqueKey>

  <!-- It's a *very* good idea to have a default search field -->
  <defaultSearchField>catchall</defaultSearchField>

</schema>
